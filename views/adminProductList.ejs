<head>
    <title>Admin Product List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<!-- Product List Table -->
<div class="card">
    <div class="d-flex justify-content-between mb-3">
        <h4>Products List</h4>
        <div class="d-fle">

            <a href="/admin/add" class="btn btn-success">Add Product</a>
            <a href="/auth/logout" class="btn btn-danger">Logout</a>
        </div>
    </div>
    <div class="card-body">
        <% if (products.length===0) { %>
            <p class="text-center text-muted">No products available.</p>
            <% } else { %>
                <table class="table table-striped">
                    <thead class="table-dark">
                        <tr>
                            <th>#</th>
                            <th>Model</th>
                            <th>Motor Rating</th>
                            <th>Stages</th>
                            <th>Head Meters</th>
                            <th>Discharge LPM</th>
                            <th>Description</th>
                            <th>Input</th>
                            <th>Features</th>
                            <th>Applications</th>
                            <th>Material</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% products.forEach((product, index)=> { %>
                            <tr>
                                <td>
                                    <%= index + 1 %>
                                </td>
                                <td><strong>
                                        <%= product.model || "N/A" %>
                                    </strong></td>
                                <td>
                                    <%= product.motor_rating || "N/A" %>
                                </td>
                                <td>
                                    <%= product.stages || "N/A" %>
                                </td>
                                <td>
                                    <%= product.head_meters ? product.head_meters.join(", ") : " N/A" %>
                                </td>
                                <td>
                                    <%= product.discharge_lpm ? product.discharge_lpm.join(", ") : " N/A" %>
                                </td>
                                <td>
                                    <%= product.description || "N/A" %>
                                </td>
                                <td>
                                    <%= product.input || "N/A" %>
                                </td>
                                <td>
                                    <%= product.salient_features ? product.salient_features.join(", ") : " N/A" %>
                                </td>
                                <td>
                                    <%= product.applications ? product.applications.join(", ") : " N/A" %>
                                </td>
                                <td>
                                    <%= product.material || "N/A" %>
                                </td>
                                <td>
                                    <a href="/admin/edit/<%= product._id %>" class="btn btn-sm btn-warning">Edit</a>
                                    <a href="/admin/delete/<%= product._id %>" class="btn btn-sm btn-danger"
                                        onclick="return confirm('Are you sure?')">Delete</a>
                                </td>
                            </tr>
                            <% }); %>
                    </tbody>
                </table>
                <% } %>
    </div>
</div>